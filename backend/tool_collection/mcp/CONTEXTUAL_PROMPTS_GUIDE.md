# è¯­å¢ƒåŒ–æç¤ºå·¥å…·ä½¿ç”¨æŒ‡å—

## æ¦‚è¿°

è¯­å¢ƒåŒ–æç¤ºå·¥å…·ï¼ˆContextual Promptsï¼‰æ˜¯ä¸€å¥—MCPå·¥å…·ï¼Œå…è®¸AIæ™ºèƒ½ä½“æ ¹æ®å¯¹è¯ä¸Šä¸‹æ–‡åŠ¨æ€ç”Ÿæˆäº¤äº’å¼UIç»„ä»¶ï¼Œå¼•å¯¼ç”¨æˆ·è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚

## åŠŸèƒ½ç‰¹æ€§

âœ¨ **æ™ºèƒ½æ„å›¾é¢„åˆ¤** - AIè‡ªåŠ¨è¯†åˆ«ç”¨æˆ·éœ€æ±‚ï¼Œä¸»åŠ¨æä¾›ç›¸å…³é€‰é¡¹
ğŸ¯ **5ç§ç»„ä»¶ç±»å‹** - æ ‡ç­¾ã€ä¸‹æ‹‰èœå•ã€å¿«æ·æ“ä½œã€å¡ç‰‡ã€è¡¨å•
ğŸš€ **è‡ªåŠ¨å¡«å……** - åŸºäºä¸Šä¸‹æ–‡æ™ºèƒ½é¢„å¡«å……è¡¨å•æ•°æ®
ğŸ’¡ **å·¥ä½œæµå¼•å¯¼** - å®Œæˆä»»åŠ¡åè‡ªåŠ¨æ¨èä¸‹ä¸€æ­¥æ“ä½œ

---

## MCPå·¥å…·åˆ—è¡¨

### 1. `suggest_contextual_prompts`
**æ ¸å¿ƒå·¥å…·** - ç”Ÿæˆä»»æ„ç±»å‹çš„äº¤äº’å¼æç¤º

**å‚æ•°ï¼š**
- `prompt_type`: ç»„ä»¶ç±»å‹ï¼ˆtags/dropdown/quick_actions/cards/formï¼‰
- `title`: æ ‡é¢˜
- `description`: æè¿°ï¼ˆå¯é€‰ï¼‰
- `options`: é€‰é¡¹åˆ—è¡¨
- `context`: å½“å‰ä¸Šä¸‹æ–‡
- `priority`: ä¼˜å…ˆçº§ï¼ˆhigh/medium/lowï¼‰

**ç¤ºä¾‹ï¼š**
```python
# ç”Ÿæˆæ ‡ç­¾æç¤º
await suggest_contextual_prompts(
    prompt_type="tags",
    title="å¿«é€Ÿç­›é€‰",
    description="é€‰æ‹©æ‚£è€…ç±»å‹",
    options=[
        {"label": "æœ€è¿‘å°±è¯Š", "value": "recent", "color": "blue"},
        {"label": "å¾…éšè®¿", "value": "pending", "color": "orange"}
    ],
    context="patient_list",
    priority="high"
)
```

### 2. `suggest_patient_filters`
**æ‚£è€…ç­›é€‰å»ºè®®** - æ ¹æ®å½“å‰æ‚£è€…åˆ—è¡¨ä¸Šä¸‹æ–‡ï¼Œç”Ÿæˆæ™ºèƒ½ç­›é€‰æ ‡ç­¾

**ä½¿ç”¨åœºæ™¯ï¼š**
- ç”¨æˆ·æŸ¥çœ‹æ‚£è€…åˆ—è¡¨æ—¶
- æ‚£è€…æ•°é‡è¾ƒå¤šéœ€è¦ç­›é€‰æ—¶

**ç¤ºä¾‹ï¼š**
```python
await suggest_patient_filters(
    current_filters={"status": "active"},
    patient_count=150
)
```

**è¾“å‡ºï¼š**
```
å¿«é€Ÿç­›é€‰ | å…± 150 ä½æ‚£è€…
[æœ€è¿‘å°±è¯Š] [å¾…éšè®¿] [ç–‘éš¾ç—…ä¾‹] [ç±»é£æ¹¿å…³èŠ‚ç‚] [ç³»ç»Ÿæ€§çº¢æ–‘ç‹¼ç–®]
```

### 3. `suggest_case_search_hints`
**ç—…ä¾‹æœç´¢æç¤º** - æ ¹æ®æœç´¢ç»“æœæ•°é‡ï¼Œæä¾›æŸ¥è¯¢ä¼˜åŒ–å»ºè®®

**ä½¿ç”¨åœºæ™¯ï¼š**
- æœç´¢ç»“æœä¸º0æ—¶ â†’ å»ºè®®æ‰©å¤§èŒƒå›´
- æœç´¢ç»“æœè¿‡å¤šæ—¶ â†’ å»ºè®®ç²¾ç¡®ç­›é€‰
- æœç´¢ç»“æœé€‚ä¸­æ—¶ â†’ å»ºè®®ç›¸å…³æ“ä½œ

**ç¤ºä¾‹ï¼š**
```python
# æ— æœç´¢ç»“æœ
await suggest_case_search_hints(
    current_query="ç½•è§ç—…ä¾‹",
    search_results_count=0
)

# ç»“æœè¿‡å¤š
await suggest_case_search_hints(
    current_query="å…³èŠ‚ç‚",
    search_results_count=120
)
```

### 4. `suggest_next_steps`
**ä¸‹ä¸€æ­¥æ“ä½œå»ºè®®** - é¢„åˆ¤ç”¨æˆ·å®Œæˆä»»åŠ¡åçš„ä¸‹ä¸€æ­¥åŠ¨ä½œ

**æ”¯æŒçš„åœºæ™¯ï¼š**
- `view_patient_detail` - æŸ¥çœ‹æ‚£è€…è¯¦æƒ…å
- `view_case_detail` - æŸ¥çœ‹ç—…ä¾‹è¯¦æƒ…å
- `search_knowledge` - æœç´¢çŸ¥è¯†å
- `analyze_metrics` - åˆ†ææŒ‡æ ‡å

**ç¤ºä¾‹ï¼š**
```python
# æŸ¥çœ‹æ‚£è€…è¯¦æƒ…å
await suggest_next_steps(
    completed_action="view_patient_detail",
    context_data={"patient_id": 123}
)
```

**è¾“å‡ºï¼š**
```
æ¥ä¸‹æ¥æ‚¨å¯ä»¥

[ğŸ“ æ·»åŠ æ²»ç–—è®°å½•]  [ğŸ“Š æŸ¥çœ‹æ£€æŸ¥ç»“æœ]
[ğŸ“… å®‰æ’éšè®¿]      [ğŸ” æŸ¥æ‰¾ç›¸ä¼¼ç—…ä¾‹]
```

### 5. `suggest_smart_form`
**æ™ºèƒ½è¡¨å•ç”Ÿæˆ** - æ ¹æ®ä¸Šä¸‹æ–‡ç”Ÿæˆé¢„å¡«å……çš„è¡¨å•

**æ”¯æŒçš„è¡¨å•ç±»å‹ï¼š**
- `patient_intake` - æ‚£è€…å…¥é™¢ç™»è®°
- `treatment_record` - æ²»ç–—è®°å½•
- `followup_schedule` - éšè®¿å®‰æ’
- `todo_create` - å¾…åŠåˆ›å»º

**ç¤ºä¾‹ï¼š**
```python
await suggest_smart_form(
    form_type="treatment_record",
    prefill_data={
        "stage_date": "2025-01-15",
        "stage_type": "æ²»ç–—"
    }
)
```

---

## ç»„ä»¶ç±»å‹è¯¦è§£

### 1. Tagsï¼ˆæ ‡ç­¾ï¼‰
**é€‚ç”¨åœºæ™¯ï¼š** å¿«é€Ÿç­›é€‰ã€åˆ†ç±»é€‰æ‹©ã€çŠ¶æ€è¿‡æ»¤

**ç‰¹ç‚¹ï¼š**
- å¤šé€‰æ”¯æŒ
- é¢œè‰²åŒºåˆ†
- å›¾æ ‡æ”¯æŒ

**é€‰é¡¹æ ¼å¼ï¼š**
```json
{
  "label": "ç±»é£æ¹¿",
  "value": "rheumatoid",
  "color": "blue",
  "icon": "ğŸ”¬"
}
```

### 2. Dropdownï¼ˆä¸‹æ‹‰èœå•ï¼‰
**é€‚ç”¨åœºæ™¯ï¼š** å•é€‰ã€æ’åºé€‰æ‹©ã€ç²¾ç¡®ç­›é€‰

**ç‰¹ç‚¹ï¼š**
- é€‰é¡¹å¤šæ—¶èŠ‚çœç©ºé—´
- éœ€è¦ç¡®è®¤æŒ‰é’®

**é€‰é¡¹æ ¼å¼ï¼š**
```json
{
  "label": "æŒ‰æ—¶é—´æ’åº",
  "value": "sort_by_time"
}
```

### 3. Quick Actionsï¼ˆå¿«æ·æ“ä½œï¼‰
**é€‚ç”¨åœºæ™¯ï¼š** å¸¸ç”¨æ“ä½œã€å·¥å…·æ ã€æ‰¹é‡æ“ä½œ

**ç‰¹ç‚¹ï¼š**
- å›¾æ ‡+æ–‡å­—
- ç½‘æ ¼å¸ƒå±€
- é†’ç›®æŒ‰é’®

**é€‰é¡¹æ ¼å¼ï¼š**
```json
{
  "label": "æŸ¥çœ‹ç—…å†",
  "value": "view_records",
  "icon": "FileText",
  "action": "navigate"
}
```

### 4. Cardsï¼ˆå¡ç‰‡ï¼‰
**é€‚ç”¨åœºæ™¯ï¼š** å¼•å¯¼å¼æ“ä½œã€æ¨èæ­¥éª¤ã€åŠŸèƒ½ä»‹ç»

**ç‰¹ç‚¹ï¼š**
- å›¾æ–‡å¹¶èŒ‚
- æè¿°è¯¦ç»†
- è§†è§‰çªå‡º

**é€‰é¡¹æ ¼å¼ï¼š**
```json
{
  "title": "æ·»åŠ æ²»ç–—è®°å½•",
  "description": "è®°å½•æœ¬æ¬¡è¯Šç–—æƒ…å†µ",
  "icon": "Plus",
  "value": "add_treatment",
  "action": "create"
}
```

### 5. Formï¼ˆè¡¨å•ï¼‰
**é€‚ç”¨åœºæ™¯ï¼š** ç»“æ„åŒ–æ•°æ®è¾“å…¥ã€è®°å½•åˆ›å»º

**ç‰¹ç‚¹ï¼š**
- æ™ºèƒ½é¢„å¡«å……
- å­—æ®µéªŒè¯
- å»ºè®®å€¼

**å­—æ®µæ ¼å¼ï¼š**
```json
{
  "field": "patient_name",
  "type": "text",
  "label": "æ‚£è€…å§“å",
  "required": true,
  "placeholder": "è¯·è¾“å…¥å§“å"
}
```

**æ”¯æŒçš„å­—æ®µç±»å‹ï¼š**
- `text` - æ–‡æœ¬è¾“å…¥
- `number` - æ•°å­—è¾“å…¥
- `tel` - ç”µè¯å·ç 
- `textarea` - å¤šè¡Œæ–‡æœ¬
- `select` - ä¸‹æ‹‰é€‰æ‹©
- `date` - æ—¥æœŸé€‰æ‹©

---

## å‰ç«¯é›†æˆ

### 1. åœ¨èŠå¤©ç»„ä»¶ä¸­æ¸²æŸ“

```tsx
import { ContextualPrompts, ContextualPromptData } from "@/components/common/contextual-prompts";

function ChatMessage({ message }) {
  // æ£€æµ‹æ˜¯å¦ä¸ºè¯­å¢ƒåŒ–æç¤ºæ¶ˆæ¯
  const isContextualPrompt = message.type === "contextual_prompt";

  if (isContextualPrompt) {
    return (
      <ContextualPrompts
        data={message as ContextualPromptData}
        onSelect={handleSelect}
        onSubmit={handleFormSubmit}
      />
    );
  }

  // æ™®é€šæ¶ˆæ¯æ¸²æŸ“
  return <div>{message.content}</div>;
}
```

### 2. å¤„ç†ç”¨æˆ·é€‰æ‹©

```tsx
const handleSelect = (value: string, action?: string) => {
  console.log("ç”¨æˆ·é€‰æ‹©äº†:", value, action);

  // æ ¹æ® action æ‰§è¡Œä¸åŒæ“ä½œ
  if (action === "filter") {
    applyFilter(value);
  } else if (action === "navigate") {
    router.push(`/page/${value}`);
  } else if (action === "ai_search") {
    triggerAISearch(value);
  }

  // æˆ–è€…ç›´æ¥å°†é€‰æ‹©å¡«å……åˆ°è¾“å…¥æ¡†
  setInputValue(value);
};
```

### 3. å¤„ç†è¡¨å•æäº¤

```tsx
const handleFormSubmit = (formData: Record<string, any>) => {
  console.log("è¡¨å•æ•°æ®:", formData);

  // è°ƒç”¨APIåˆ›å»ºè®°å½•
  await createRecord(formData);

  // æˆ–è€…å‘é€ç»™AIç»§ç»­å¯¹è¯
  sendMessageToAI(`è¯·æ ¹æ®ä»¥ä¸‹æ•°æ®åˆ›å»ºè®°å½•: ${JSON.stringify(formData)}`);
};
```

---

## AI Agent ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: æ‚£è€…åˆ—è¡¨æ™ºèƒ½ç­›é€‰

**åœºæ™¯ï¼š** ç”¨æˆ·æŸ¥çœ‹æ‚£è€…åˆ—è¡¨ï¼ŒAIä¸»åŠ¨æä¾›ç­›é€‰å»ºè®®

```python
# Agent prompt
"""
ç”¨æˆ·æ­£åœ¨æŸ¥çœ‹æ‚£è€…åˆ—è¡¨ï¼ˆå…±150ä½æ‚£è€…ï¼‰ã€‚
ä¸»åŠ¨ä¸ºç”¨æˆ·æä¾›å¿«é€Ÿç­›é€‰æ ‡ç­¾ã€‚
"""

# Agentè°ƒç”¨å·¥å…·
result = await suggest_patient_filters(
    patient_count=150
)

# è¿”å›ç»™ç”¨æˆ·
return result
```

**ç”¨æˆ·çœ‹åˆ°ï¼š**
```
å¿«é€Ÿç­›é€‰ | å…± 150 ä½æ‚£è€…
[æœ€è¿‘å°±è¯Š] [å¾…éšè®¿] [ç–‘éš¾ç—…ä¾‹] [ç±»é£æ¹¿å…³èŠ‚ç‚] [ç³»ç»Ÿæ€§çº¢æ–‘ç‹¼ç–®] [å¼ºç›´æ€§è„ŠæŸ±ç‚]
```

### ç¤ºä¾‹2: ç—…ä¾‹æœç´¢ä¼˜åŒ–

**åœºæ™¯ï¼š** ç”¨æˆ·æœç´¢"å…³èŠ‚ç–¼ç—›"ï¼Œè¿”å›120ä¸ªç»“æœ

```python
# Agentè°ƒç”¨å·¥å…·
result = await suggest_case_search_hints(
    current_query="å…³èŠ‚ç–¼ç—›",
    search_results_count=120
)
```

**ç”¨æˆ·çœ‹åˆ°ï¼š**
```
ç»“æœè¾ƒå¤šï¼Œç²¾ç¡®ç­›é€‰ | æ‰¾åˆ° 120 ä¸ªç—…ä¾‹ï¼Œå»ºè®®ç¼©å°èŒƒå›´

[æŒ‰ç–¾ç—…ç±»å‹ç­›é€‰] [æŒ‰ç—‡çŠ¶ç­›é€‰] [ä»…æ˜¾ç¤ºç»å…¸ç—…ä¾‹] [æŒ‰ç›¸å…³åº¦æ’åº]
```

### ç¤ºä¾‹3: å¼•å¯¼å¼å·¥ä½œæµ

**åœºæ™¯ï¼š** ç”¨æˆ·æŸ¥çœ‹å®Œæ‚£è€…è¯¦æƒ…ï¼ŒAIæ¨èä¸‹ä¸€æ­¥æ“ä½œ

```python
# Agentè°ƒç”¨å·¥å…·
result = await suggest_next_steps(
    completed_action="view_patient_detail",
    context_data={"patient_id": 123}
)
```

**ç”¨æˆ·çœ‹åˆ°ï¼š**
```
æ¥ä¸‹æ¥æ‚¨å¯ä»¥

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ æ·»åŠ æ²»ç–—è®°å½•    â”‚ â”‚ ğŸ“Š æŸ¥çœ‹æ£€æŸ¥ç»“æœ    â”‚
â”‚ è®°å½•æœ¬æ¬¡è¯Šç–—æƒ…å†µ   â”‚ â”‚ æŸ¥çœ‹æœ€æ–°åŒ–éªŒæŒ‡æ ‡   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“… å®‰æ’éšè®¿        â”‚ â”‚ ğŸ” æŸ¥æ‰¾ç›¸ä¼¼ç—…ä¾‹    â”‚
â”‚ è®¾ç½®ä¸‹æ¬¡å¤æŸ¥æ—¶é—´   â”‚ â”‚ å‚è€ƒç±»ä¼¼è¯Šç–—ç»éªŒ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç¤ºä¾‹4: æ™ºèƒ½è¡¨å•é¢„å¡«å……

**åœºæ™¯ï¼š** ç”¨æˆ·è¦æ·»åŠ æ²»ç–—è®°å½•ï¼ŒAIç”Ÿæˆé¢„å¡«å……è¡¨å•

```python
# Agentè°ƒç”¨å·¥å…·
result = await suggest_smart_form(
    form_type="treatment_record",
    prefill_data={
        "stage_date": "2025-01-15",
        "stage_type": "æ²»ç–—",
        "patient_id": 123
    }
)
```

**ç”¨æˆ·çœ‹åˆ°ï¼š**
```
å¡«å†™treatment_recordè¡¨å•
AIå·²ä¸ºæ‚¨é¢„å¡«å……éƒ¨åˆ†å­—æ®µï¼Œè¯·ç¡®è®¤æˆ–ä¿®æ”¹

è¯Šç–—æ—¥æœŸ: [2025-01-15] âœ“
è®°å½•ç±»å‹: [æ²»ç–—] â–¼
æ ‡é¢˜: [_______________]
è¯Šæ–­: [_______________]
...

[é‡ç½®] [æäº¤]
```

---

## æœ€ä½³å®è·µ

### 1. ä½•æ—¶ä½¿ç”¨è¯­å¢ƒåŒ–æç¤ºï¼Ÿ

âœ… **é€‚åˆä½¿ç”¨ï¼š**
- ç”¨æˆ·å®Œæˆä¸€ä¸ªä»»åŠ¡åï¼Œæ¨èä¸‹ä¸€æ­¥
- ç”¨æˆ·é¢å¯¹å¤šä¸ªé€‰é¡¹éœ€è¦ç­›é€‰æ—¶
- ç”¨æˆ·éœ€è¦è¾“å…¥ç»“æ„åŒ–æ•°æ®æ—¶
- å¯¹è¯å‡ºç°å¡é¡¿ï¼Œéœ€è¦å¼•å¯¼æ–¹å‘æ—¶

âŒ **ä¸é€‚åˆä½¿ç”¨ï¼š**
- ç”¨æˆ·é—®é¢˜éå¸¸æ˜ç¡®æ—¶
- å¯¹è¯æµç•…è¿›è¡Œæ—¶
- è¿‡äºé¢‘ç¹ä¼šæ‰“æ–­ç”¨æˆ·æ€è·¯

### 2. é€‰æ‹©åˆé€‚çš„ç»„ä»¶ç±»å‹

| åœºæ™¯ | æ¨èç»„ä»¶ | åŸå›  |
|------|---------|------|
| å¿«é€Ÿç­›é€‰ï¼ˆ<10é€‰é¡¹ï¼‰ | Tags | ä¸€ç›®äº†ç„¶ï¼Œç‚¹å‡»æ–¹ä¾¿ |
| ç²¾ç¡®é€‰æ‹©ï¼ˆ>10é€‰é¡¹ï¼‰ | Dropdown | èŠ‚çœç©ºé—´ |
| å¸¸ç”¨æ“ä½œ | Quick Actions | å›¾æ ‡é†’ç›® |
| å¼•å¯¼å·¥ä½œæµ | Cards | æè¿°è¯¦ç»† |
| æ•°æ®å½•å…¥ | Form | ç»“æ„åŒ–è¾“å…¥ |

### 3. ä¼˜å…ˆçº§è®¾ç½®

- `high` - é‡è¦æ“ä½œã€ç´§æ€¥ä»»åŠ¡ï¼ˆçº¢è‰²è¾¹æ¡†ï¼‰
- `medium` - å¸¸è§„å»ºè®®ï¼ˆè“è‰²è¾¹æ¡†ï¼‰
- `low` - å¯é€‰æ“ä½œï¼ˆç°è‰²è¾¹æ¡†ï¼‰

### 4. ç”¨æˆ·ä½“éªŒä¼˜åŒ–

âœ¨ **å¥½çš„å®è·µï¼š**
```python
# æä¾›æ¸…æ™°çš„æè¿°
await suggest_contextual_prompts(
    prompt_type="tags",
    title="å¿«é€Ÿç­›é€‰",
    description="å…± 150 ä½æ‚£è€…",  # æä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯
    options=[...]
)
```

âŒ **é¿å…ï¼š**
```python
# æè¿°ä¸æ¸…æ™°
await suggest_contextual_prompts(
    prompt_type="tags",
    title="ç­›é€‰",  # å¤ªç®€ç•¥
    options=[...]
)
```

---

## å·¥å…·ç»„åˆç¤ºä¾‹

### ç»„åˆ1: æ‚£è€…ç®¡ç†å®Œæ•´æµç¨‹

```python
# 1. åˆ—è¡¨ç­›é€‰
await suggest_patient_filters(patient_count=150)

# ç”¨æˆ·é€‰æ‹©"å¾…éšè®¿" â†’ ç­›é€‰å‡º30ä½æ‚£è€…

# 2. æŸ¥çœ‹æ‚£è€…è¯¦æƒ…åï¼Œæ¨èä¸‹ä¸€æ­¥
await suggest_next_steps(
    completed_action="view_patient_detail",
    context_data={"patient_id": 123}
)

# ç”¨æˆ·ç‚¹å‡»"å®‰æ’éšè®¿" â†’ ç”Ÿæˆè¡¨å•

# 3. æ™ºèƒ½è¡¨å•
await suggest_smart_form(
    form_type="followup_schedule",
    prefill_data={
        "patient_id": 123,
        "todo_type": "éšè®¿",
        "due_date": "2025-01-30"
    }
)
```

### ç»„åˆ2: ç—…ä¾‹ç ”ç©¶æµç¨‹

```python
# 1. æœç´¢ç—…ä¾‹
await suggest_case_search_hints(
    current_query="ç±»é£æ¹¿å…³èŠ‚ç‚",
    search_results_count=45
)

# ç”¨æˆ·æŸ¥çœ‹ç—…ä¾‹è¯¦æƒ…å

# 2. æ¨èåç»­æ“ä½œ
await suggest_next_steps(
    completed_action="view_case_detail",
    context_data={"case_id": 456}
)

# ç”¨æˆ·ç‚¹å‡»"å¯¹æ¯”åˆ†æ" â†’ æä¾›ç±»ä¼¼ç—…ä¾‹æ ‡ç­¾

# 3. ç­›é€‰ç±»ä¼¼ç—…ä¾‹
await suggest_contextual_prompts(
    prompt_type="tags",
    title="é€‰æ‹©å¯¹æ¯”ç»´åº¦",
    options=[
        {"label": "ç—‡çŠ¶ç›¸ä¼¼", "value": "symptom_similar"},
        {"label": "æ²»ç–—æ–¹æ¡ˆç›¸ä¼¼", "value": "treatment_similar"},
        {"label": "é¢„åç›¸ä¼¼", "value": "prognosis_similar"}
    ]
)
```

---

## æ•…éšœæ’æŸ¥

### é—®é¢˜1: å‰ç«¯ä¸æ¸²æŸ“ç»„ä»¶

**æ£€æŸ¥ï¼š**
1. æ¶ˆæ¯æ ¼å¼æ˜¯å¦åŒ…å« `type: "contextual_prompt"`
2. `prompt_type` æ˜¯å¦ä¸ºæ”¯æŒçš„ç±»å‹
3. `options` æ ¼å¼æ˜¯å¦æ­£ç¡®

### é—®é¢˜2: è¡¨å•æ— æ³•æäº¤

**æ£€æŸ¥ï¼š**
1. å¿…å¡«å­—æ®µæ˜¯å¦å¡«å†™
2. `onSubmit` å›è°ƒæ˜¯å¦æ­£ç¡®ç»‘å®š
3. å­—æ®µç±»å‹æ˜¯å¦åŒ¹é…

### é—®é¢˜3: å›¾æ ‡ä¸æ˜¾ç¤º

**æ£€æŸ¥ï¼š**
1. å›¾æ ‡åç§°æ˜¯å¦åœ¨ `iconMap` ä¸­å®šä¹‰
2. æ˜¯å¦å¯¼å…¥äº† `lucide-react`
3. å›¾æ ‡åç§°æ‹¼å†™æ˜¯å¦æ­£ç¡®

---

## ç‰ˆæœ¬å†å²

- **v1.0.0** (2025-01-15) - åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒ5ç§ç»„ä»¶ç±»å‹å’Œ6ä¸ªé¢„è®¾å·¥å…·

---

## å‚ä¸è´¡çŒ®

æ¬¢è¿æäº¤æ–°çš„å·¥å…·æˆ–ç»„ä»¶ç±»å‹å»ºè®®ï¼

è”ç³»æ–¹å¼ï¼šè¯·åœ¨ GitHub æäº¤ Issue
